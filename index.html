<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Audio Player">
    <title>Playlist</title>
    <link rel="stylesheet" href="./style.css">
    <link rel="manifest" href="./manifest.json">
</head>
<body>
    <a style="color: white" href="../">Back</a>
    <h2 id="nowplaying">Now Playing:</h2>
    <audio id="player" controls preload="metadata" playsinline></audio>
    <br /><br />

    <div class="controls">
        <button id="prev">⏮ Prev</button>
        <button id="next">Next ⏭</button>
    </div>
    <p id="totalDuration" style="margin-bottom: 1em;">Total Duration: …</p>

    <div id="analysis" style="margin-top: 1em;">
        <h3>Track Analysis</h3>
        <button id="toggleAnalyzerBtn">Start Analyzer</button>
        <br /><br />
        <canvas id="analysisCanvas" width="800" height="400" style="background:#000; display: none;"></canvas>
    </div>

    <br /><br />

    <table id="tracktable">
        <thead>
            <tr>
                <th>#</th>
                <th class="sortable" data-sort="name">Track Name</th>
                <th class="sortable" data-sort="duration">Duration</th>
                <th class="sortable" data-sort="date">Last Modified</th>
                <th>Download</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    <div id="otherFiles" style="margin-top:2em;">
        <h3>Other Files</h3>
        <!-- Non-music file links will go here -->
    </div>

    <footer>
        <br />
        <a style="color: lightgreen" href="https://github.com/MaxPleaner/Nginx_Audio_Playlist/tree/main">Nginx Audio Playlist (source on Github)</a>
    </footer>

    <script src="./analyzeTrack.js"></script>
    <script src="./main.js"></script>
    <script>
        (function(){
            init()
        })()
    </script>
</body>
</html>
